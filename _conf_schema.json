{
  "enabled": {
    "type": "bool",
    "description": "启用插件",
    "default": true
  },
  "enable_guided_generation": {
    "type": "bool",
    "description": "启用引导式生成",
    "default": true,
    "hint": "启用后生成人格时会先分析描述缺失的字段，让用户选择补充"
  },
  "architect_provider_id": {
    "type": "string",
    "description": "架构师模型 Provider ID（用于生成/优化人格）",
    "_special": "select_provider",
    "default": "",
    "hint": "留空则使用当前会话默认 Provider。建议使用高阶模型如 GPT-4o、Claude-3.5-Sonnet"
  },
  "max_prompt_length": {
    "type": "int",
    "description": "人格提示词最大字符数",
    "default": 800,
    "hint": "超过此值将自动触发瘦身模块。建议 400-1200"
  },
  "auto_compress": {
    "type": "bool",
    "description": "生成后自动压缩提示词",
    "default": true,
    "hint": "启用后会在生成人格后自动执行瘦身优化"
  },
  "max_log_samples": {
    "type": "int",
    "description": "画像/自省时最大采样对话条数",
    "default": 30,
    "hint": "执行人格画像或自省时，最多提取多少条对话记录"
  },
  "sampling_strategy": {
    "type": "string",
    "description": "对话采样策略",
    "default": "latest",
    "hint": "可选: latest(最近的), distributed(均匀分布), random(随机)"
  },
  "confirm_before_apply": {
    "type": "bool",
    "description": "应用人格前需要确认",
    "default": true,
    "hint": "生成新人格后，需要用户发送确认指令才生效"
  },
  "backup_versions": {
    "type": "int",
    "description": "历史版本保留数量",
    "default": 5,
    "hint": "本地保留多少个历史人格版本，用于回滚"
  },
  "show_intermediate_steps": {
    "type": "bool",
    "description": "显示生成过程",
    "default": false,
    "hint": "显示架构师的思考过程和修改要点"
  },
  "architect_timeout": {
    "type": "int",
    "description": "架构师模型超时时间(秒)",
    "default": 60,
    "hint": "调用 LLM 生成人格的超时时间"
  },
  "ignore_keywords": {
    "type": "string",
    "description": "忽略关键词（逗号分隔）",
    "default": "[CQ:,已撤回,进群,退群,@全体成员",
    "hint": "分析聊天记录时忽略包含这些关键词的消息"
  },
  "merge_consecutive_messages": {
    "type": "bool",
    "description": "合并连续消息",
    "default": true,
    "hint": "同一人连续发送的多条短消息会被合并，减少 Token 占用"
  },
  "persona_gen_template": {
    "type": "string",
    "description": "生成人格元提示词模板",
    "default": "",
    "hint": "高级：自定义生成人格时的系统提示词。留空使用默认模板"
  },
  "persona_refine_template": {
    "type": "string",
    "description": "优化人格元提示词模板", 
    "default": "",
    "hint": "高级：自定义优化人格时的系统提示词。留空使用默认模板"
  },
  "persona_shrink_template": {
    "type": "string",
    "description": "瘦身人格元提示词模板",
    "default": "",
    "hint": "高级：自定义压缩人格时的系统提示词。留空使用默认模板"
  }
}
